webpackJsonp([1],{9:function(e,t,a){t=e.exports=a(4)(),t.push([e.id,".pagination-box{padding:20px 15px 40px}.pagination{text-align:center}.pagination li{font-size:1.6rem;line-height:1;display:inline-block;margin:0 .2em;cursor:pointer;-webkit-user-select:none;user-select:none;border:1px solid;border-color:#d8e1e3;border-radius:.25em;background:#fff;box-shadow:0 1px 1px rgba(90,90,90,.1)}.pagination li.current,.pagination li:hover{color:#58666e;background-color:#edf1f2;border-color:#c7d3d6}.pagination li.current{pointer-events:none;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.pagination li:active{transform:scale(.9)}.pagination li.disabled{cursor:not-allowed;opacity:.8;color:#b5b5b5}.pagination li.disabled:hover{border-color:#d8e1e3;background-color:#fff}.pagination li.disabled:active{transform:scale(1)}.pagination li.separate{color:#b5b5b5;pointer-events:none}.pagination li a{cursor:pointer}.pagination li a,.pagination li span{display:block;padding:.6em .8em;color:inherit}",""])},10:function(e,t,a){var i=a(9);"string"==typeof i&&(i=[[e.id,i,""]]);a(5)(i,{});i.locals&&(e.exports=i.locals)},11:function(e,t){e.exports='<div class=pagination-box> <ul class=pagination ng-show="pagination.config.totalItems > 0"> <li ng-class="{disabled: pagination.config.currentPage == 1}" ng-click=pagination.prevPage()> <span>&laquo;</span> </li> <li ng-repeat="item in pagination.pageList track by $index" ng-class="{\'current\': item.page == pagination.config.currentPage, \'separate\': item.page == \'...\'}"> <a href={{item.uri}} ng-if=item.uri>{{item.page}}</a> <span ng-if=!item.uri>{{item.page}}</span> </li> <li ng-class="{disabled: pagination.config.currentPage == pagination.config.numberOfPages}" ng-click=pagination.nextPage()> <span>&raquo;</span> </li> </ul> </div>'},12:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(11),n=_interopRequireDefault(i);a(10);var r=a(13),o=_interopRequireDefault(r),s={bindings:{config:"<"},template:n["default"],controller:o["default"],controllerAs:"pagination"};t["default"]=angular.module("app.components.pagination",[]).component("pagination",s)},13:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(3),n=_interopRequireDefault(i),r=a(1),o=_interopRequireDefault(r),s=a(2),l=_interopRequireDefault(s),g=function(){function PaginationController(e,t,a,i){"ngInject";var r=this;(0,o["default"])(this,PaginationController),this.$onInit=function(){r.configUri=r.config.state,r.config.pagesLength=Number(r.config.pagesLength)||9,r.config.pagesLength%2===0&&(r.config.pagesLength=r.config.pagesLength-1),r.getPagination()},this.$onChanges=function(e){e.config.isFirstChange()||r.getPagination()},(0,n["default"])(this,{$scope:e,$element:t,$attrs:a,$state:i})}return PaginationController.$inject=["$scope","$element","$attrs","$state"],(0,l["default"])(PaginationController,[{key:"getPagination",value:function getPagination(){var e=this,t={page:"..."};if(e.config.currentPage=parseInt(e.config.currentPage,10)||1,e.config.totalItems=parseInt(e.config.totalItems,10)||0,e.config.itemsPerPage=parseInt(e.config.itemsPerPage,10)||20,e.config.numberOfPages=Math.ceil(e.config.totalItems/e.config.itemsPerPage),e.config.numberOfPages>0&&e.config.currentPage>e.config.numberOfPages&&(e.config.currentPage=e.config.numberOfPages),e.pageList=[],e.config.numberOfPages<=e.config.pagesLength)for(var a=1;a<=e.config.numberOfPages;a++)e.pageList.push(e.parseStateToUri(a));else{var i=(e.config.pagesLength-1)/2;if(e.config.currentPage<=i){for(var n=1;n<=i+1;n++)e.pageList.push(e.parseStateToUri(n));e.pageList.push(t),e.pageList.push(e.parseStateToUri(e.config.numberOfPages))}else if(e.config.currentPage>e.config.numberOfPages-i){e.pageList.push(e.parseStateToUri(1)),e.pageList.push(t);for(var r=i+1;r>=1;r--)e.pageList.push(e.parseStateToUri(e.config.numberOfPages-r));e.pageList.push(e.parseStateToUri(e.config.numberOfPages))}else{e.pageList.push(e.parseStateToUri(1)),e.pageList.push(t);for(var o=Math.ceil(i/2);o>=1;o--)e.pageList.push(e.parseStateToUri(e.config.currentPage-o));e.pageList.push(e.parseStateToUri(e.config.currentPage));for(var s=1;s<=i/2;s++)e.pageList.push(e.parseStateToUri(e.config.currentPage+s));e.pageList.push(t),e.pageList.push(e.parseStateToUri(e.config.numberOfPages))}}}},{key:"parseStateToUri",value:function parseStateToUri(e){var t=this.$state.href(this.config.state,{page:e},{absolute:!1});return{uri:t,page:e}}},{key:"changeCurrentPage",value:function changeCurrentPage(e){"..."!==e&&(this.config.currentPage=e)}},{key:"prevPage",value:function prevPage(){return this.config.currentPage>1&&(this.config.currentPage--,this.$state.go(this.config.state,{page:this.config.currentPage--}))}},{key:"nextPage",value:function nextPage(){return this.config.currentPage<this.config.numberOfPages&&(this.config.currentPage++,this.$state.go(this.config.state,{page:this.config.currentPage++}))}}]),PaginationController}();t["default"]=g},78:function(e,t){e.exports='<div class=page-title> <h4>{{vm.title}}</h4> <b class="badge badge-warning" ng-if=vm.totalResults>{{vm.totalResults}}</b> <p><small class=text-muted>{{vm.description}}</small></p> </div> <div class=root-wrapper> <div class=tv-wrapper ng-show=vm.tvs.length> <tv-card ng-repeat="tv in vm.tvs track by tv.id" tv=tv class=tv-item ng-if=tv.poster_path> </tv-card> </div> <loading-bar></loading-bar> </div> <pagination config=vm.paginationConfig ng-if=vm.tvs.length></pagination>'},138:function(e,t,a){t=e.exports=a(4)(),t.push([e.id,".tv-wrapper{display:flex;flex-wrap:wrap;margin-left:-10px;margin-right:-10px;-webkit-user-select:none;-moz-user-select:none}.tv-wrapper .tv-item{padding:10px;width:33.33333%}@media screen and (max-width:1440px){.tv-wrapper .tv-item{width:50%}}@media screen and (max-width:1000px){.tv-wrapper .tv-item{width:100%}}.tv-wrapper .thumbnail{display:block;width:140px;height:210px;border-radius:5px 0 0 5px;position:relative}.tv-wrapper .thumbnail img{width:100%;height:100%}.tv-wrapper .tv{position:relative;display:flex;transition:all .35s linear;box-shadow:0 1px 1px rgba(0,0,0,.1);border-radius:2px;overflow:hidden;padding:1rem;background-color:#fff}.tv-wrapper .tv:hover{box-shadow:0 4px 10px 2px rgba(0,0,0,.2)}.tv-wrapper .tv .name a{color:#58666e}.tv-wrapper .tv .name a:hover{color:#eec141}.tv-wrapper .vote{position:absolute;right:1rem;top:.5rem;z-index:3;color:#eec141;font-size:1.6rem}.tv-wrapper .overview{flex:1;padding:0 1.5rem 1rem;background-color:#fff}.tv-wrapper .overview p:last-child{font-size:1.2rem;line-height:1.6;max-height:200px;overflow:hidden}@media screen and (max-width:1000px){.tv-wrapper .overview p:last-child{max-height:220px}}",""])},153:function(e,t,a){var i=a(138);"string"==typeof i&&(i=[[e.id,i,""]]);a(5)(i,{});i.locals&&(e.exports=i.locals)},173:function(e,t){e.exports='<div class=tv> <div class="thumbnail lazyimg"> <a href=//www.themoviedb.org/tv/{{vm.tv.id}} target=_blank> <img imgload={{$root.image_uri}}/w342{{vm.tv.poster_path}}> </a> </div> <div class=overview> <h5 class=name><a href=//www.themoviedb.org/tv/{{vm.tv.id}} target=_blank>{{vm.tv.name}}</a></h5> <span class=vote> <i class="icons icon-star"></i> <small class=number>{{vm.tv.vote_average | voteFilter}}</small> </span> <p class=genre>{{vm.tv.genre_ids | parseGenre}}</p> <p ng-if=vm.tv.overview>{{vm.tv.overview | cutText: 260}}</p> <p ng-if=!vm.tv.overview>没有中文的剧情简介，请帮助添加到数据库。</p> </div> </div>'},221:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),n=_interopRequireDefault(i);a(153);var r=a(173),o=_interopRequireDefault(r),s={bindings:{tv:"<"},template:o["default"],controller:function TvController(){"ngInject";(0,n["default"])(this,TvController)},controllerAs:"vm"};t["default"]=angular.module("app.components.tvCard",[]).component("tvCard",s)},260:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(221),n=_interopRequireDefault(i),r=a(12),o=_interopRequireDefault(r),s=a(262),l=_interopRequireDefault(s),g=a(261),p=_interopRequireDefault(g),u=angular.module("app.pages.tv",[n["default"].name,o["default"].name]).controller(l["default"].name,l["default"]).controller(p["default"].name,p["default"]);t["default"]=u.name},261:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(3),n=_interopRequireDefault(i),r=a(1),o=_interopRequireDefault(r),s=a(2),l=_interopRequireDefault(s),g=function(){function TvTodayController(e,t,a,i){"ngInject";(0,o["default"])(this,TvTodayController),(0,n["default"])(this,{$rootScope:e,$q:t,$state:a,TvApi:i}),this.paginationConfig={currentPage:this.$state.params.page||1,itemsPerPage:20,pagesLength:9,state:a.current.name},this.title="今日播出剧集",this.description="Get the list of TV shows that air today. Without a specified timezone,\n            this query defaults to EST (Eastern Time UTC-05:00).",this.activate()}return TvTodayController.$inject=["$rootScope","$q","$state","TvApi"],(0,l["default"])(TvTodayController,[{key:"activate",value:function activate(){this.$getTv()}},{key:"$getTv",value:function $getTv(){var e=this,t=this.TvApi.$list({type:"airing_today",page:this.paginationConfig.currentPage});t.then(function(t){e.tvs=t.results,e.totalResults=t.total_results,e.paginationConfig.totalItems=t.total_results,e.paginationConfig.currentPage=t.page})}}]),TvTodayController}();t["default"]=g},262:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(3),n=_interopRequireDefault(i),r=a(1),o=_interopRequireDefault(r),s=a(2),l=_interopRequireDefault(s),g=function(){function TvController(e,t,a,i){"ngInject";(0,o["default"])(this,TvController),(0,n["default"])(this,{$rootScope:e,$q:t,$state:a,TvApi:i}),this.paginationConfig={currentPage:this.$state.params.page||1,itemsPerPage:20,pagesLength:9,state:a.current.name},this.title="热门剧集",this.description="Get the list of popular TV shows. This list refreshes every day.",this.activate()}return TvController.$inject=["$rootScope","$q","$state","TvApi"],(0,l["default"])(TvController,[{key:"activate",value:function activate(){this.$getTv()}},{key:"$getTv",value:function $getTv(){var e=this,t=this.TvApi.$list({type:"popular",page:this.paginationConfig.currentPage});t.then(function(t){e.tvs=t.results,e.totalResults=t.total_results,e.paginationConfig.totalItems=t.total_results,e.paginationConfig.currentPage=t.page})}}]),TvController}();t["default"]=g}});